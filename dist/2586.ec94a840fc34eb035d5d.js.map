{"version":3,"file":"2586.ec94a840fc34eb035d5d.js","mappings":"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","sources":["webpack://mattermost-webapp/./node_modules/react-select/dist/useCreatable-84008237.esm.js","webpack://mattermost-webapp/./src/components/common/hooks/useCopyText.ts","webpack://mattermost-webapp/./src/components/widgets/icons/mail_icon.tsx","webpack://mattermost-webapp/./node_modules/react-select/async-creatable/dist/react-select-async-creatable.esm.js","webpack://mattermost-webapp/./src/components/widgets/icons/mail_plus_icon.tsx","webpack://mattermost-webapp/./src/components/widgets/inputs/users_emails_input.tsx","webpack://mattermost-webapp/../node_modules/core-js/modules/es.promise.all-settled.js","webpack://mattermost-webapp/../node_modules/core-js/modules/esnext.promise.all-settled.js"],"sourcesContent":["import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useMemo, useCallback } from 'react';\nimport { H as cleanValue, D as valueTernary } from './index-641ee5b8.esm.js';\nimport { g as getOptionValue, b as getOptionLabel } from './Select-aab027f3.esm.js';\n\nvar _excluded = [\"allowCreateWhileLoading\", \"createOptionPosition\", \"formatCreateLabel\", \"isValidNewOption\", \"getNewOptionData\", \"onCreateOption\", \"options\", \"onChange\"];\nvar compareOption = function compareOption() {\n  var inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var option = arguments.length > 1 ? arguments[1] : undefined;\n  var accessors = arguments.length > 2 ? arguments[2] : undefined;\n  var candidate = String(inputValue).toLowerCase();\n  var optionValue = String(accessors.getOptionValue(option)).toLowerCase();\n  var optionLabel = String(accessors.getOptionLabel(option)).toLowerCase();\n  return optionValue === candidate || optionLabel === candidate;\n};\nvar builtins = {\n  formatCreateLabel: function formatCreateLabel(inputValue) {\n    return \"Create \\\"\".concat(inputValue, \"\\\"\");\n  },\n  isValidNewOption: function isValidNewOption(inputValue, selectValue, selectOptions, accessors) {\n    return !(!inputValue || selectValue.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }) || selectOptions.some(function (option) {\n      return compareOption(inputValue, option, accessors);\n    }));\n  },\n  getNewOptionData: function getNewOptionData(inputValue, optionLabel) {\n    return {\n      label: optionLabel,\n      value: inputValue,\n      __isNew__: true\n    };\n  }\n};\nfunction useCreatable(_ref) {\n  var _ref$allowCreateWhile = _ref.allowCreateWhileLoading,\n    allowCreateWhileLoading = _ref$allowCreateWhile === void 0 ? false : _ref$allowCreateWhile,\n    _ref$createOptionPosi = _ref.createOptionPosition,\n    createOptionPosition = _ref$createOptionPosi === void 0 ? 'last' : _ref$createOptionPosi,\n    _ref$formatCreateLabe = _ref.formatCreateLabel,\n    formatCreateLabel = _ref$formatCreateLabe === void 0 ? builtins.formatCreateLabel : _ref$formatCreateLabe,\n    _ref$isValidNewOption = _ref.isValidNewOption,\n    isValidNewOption = _ref$isValidNewOption === void 0 ? builtins.isValidNewOption : _ref$isValidNewOption,\n    _ref$getNewOptionData = _ref.getNewOptionData,\n    getNewOptionData = _ref$getNewOptionData === void 0 ? builtins.getNewOptionData : _ref$getNewOptionData,\n    onCreateOption = _ref.onCreateOption,\n    _ref$options = _ref.options,\n    propsOptions = _ref$options === void 0 ? [] : _ref$options,\n    propsOnChange = _ref.onChange,\n    restSelectProps = _objectWithoutProperties(_ref, _excluded);\n  var _restSelectProps$getO = restSelectProps.getOptionValue,\n    getOptionValue$1 = _restSelectProps$getO === void 0 ? getOptionValue : _restSelectProps$getO,\n    _restSelectProps$getO2 = restSelectProps.getOptionLabel,\n    getOptionLabel$1 = _restSelectProps$getO2 === void 0 ? getOptionLabel : _restSelectProps$getO2,\n    inputValue = restSelectProps.inputValue,\n    isLoading = restSelectProps.isLoading,\n    isMulti = restSelectProps.isMulti,\n    value = restSelectProps.value,\n    name = restSelectProps.name;\n  var newOption = useMemo(function () {\n    return isValidNewOption(inputValue, cleanValue(value), propsOptions, {\n      getOptionValue: getOptionValue$1,\n      getOptionLabel: getOptionLabel$1\n    }) ? getNewOptionData(inputValue, formatCreateLabel(inputValue)) : undefined;\n  }, [formatCreateLabel, getNewOptionData, getOptionLabel$1, getOptionValue$1, inputValue, isValidNewOption, propsOptions, value]);\n  var options = useMemo(function () {\n    return (allowCreateWhileLoading || !isLoading) && newOption ? createOptionPosition === 'first' ? [newOption].concat(_toConsumableArray(propsOptions)) : [].concat(_toConsumableArray(propsOptions), [newOption]) : propsOptions;\n  }, [allowCreateWhileLoading, createOptionPosition, isLoading, newOption, propsOptions]);\n  var onChange = useCallback(function (newValue, actionMeta) {\n    if (actionMeta.action !== 'select-option') {\n      return propsOnChange(newValue, actionMeta);\n    }\n    var valueArray = Array.isArray(newValue) ? newValue : [newValue];\n    if (valueArray[valueArray.length - 1] === newOption) {\n      if (onCreateOption) onCreateOption(inputValue);else {\n        var newOptionData = getNewOptionData(inputValue, inputValue);\n        var newActionMeta = {\n          action: 'create-option',\n          name: name,\n          option: newOptionData\n        };\n        propsOnChange(valueTernary(isMulti, [].concat(_toConsumableArray(cleanValue(value)), [newOptionData]), newOptionData), newActionMeta);\n      }\n      return;\n    }\n    propsOnChange(newValue, actionMeta);\n  }, [getNewOptionData, inputValue, isMulti, name, newOption, onCreateOption, propsOnChange, value]);\n  return _objectSpread(_objectSpread({}, restSelectProps), {}, {\n    options: options,\n    onChange: onChange\n  });\n}\n\nexport { useCreatable as u };\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport {useRef, useCallback, useState} from 'react';\r\nimport {defineMessages} from 'react-intl';\r\n\r\ntype CopyOptions = {\r\n    successCopyTimeout?: number;\r\n    text: string;\r\n};\r\n\r\ntype CopyResponse = {\r\n    copiedRecently: boolean;\r\n    copyError: boolean;\r\n    onClick: () => void;\r\n};\r\n\r\nconst DEFAULT_COPY_TIMEOUT = 4000;\r\n\r\nexport default function useCopyText({\r\n    text,\r\n    successCopyTimeout: successCopyTimeoutReceived,\r\n}: CopyOptions): CopyResponse {\r\n    const [copiedRecently, setCopiedRecently] = useState(false);\r\n    const [copyError, setCopyError] = useState(false);\r\n    const timerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    let successCopyTimeout = DEFAULT_COPY_TIMEOUT;\r\n    if (successCopyTimeoutReceived || successCopyTimeoutReceived === 0) {\r\n        successCopyTimeout = successCopyTimeoutReceived;\r\n    }\r\n\r\n    const onClick = useCallback(() => {\r\n        if (timerRef.current) {\r\n            clearTimeout(timerRef.current);\r\n            timerRef.current = null;\r\n        }\r\n        const clipboard = navigator.clipboard;\r\n        if (clipboard) {\r\n            clipboard.writeText(text).\r\n                then(() => {\r\n                    setCopiedRecently(true);\r\n                    setCopyError(false);\r\n                }).\r\n                catch(() => {\r\n                    setCopiedRecently(false);\r\n                    setCopyError(true);\r\n                });\r\n        } else {\r\n            const textField = document.createElement('textarea');\r\n            textField.innerText = text;\r\n            textField.style.position = 'fixed';\r\n            textField.style.opacity = '0';\r\n\r\n            document.body.appendChild(textField);\r\n            textField.select();\r\n\r\n            try {\r\n                const success = document.execCommand('copy');\r\n                setCopiedRecently(success);\r\n                setCopyError(!success);\r\n            } catch (err) {\r\n                setCopiedRecently(false);\r\n                setCopyError(true);\r\n            }\r\n            textField.remove();\r\n        }\r\n\r\n        timerRef.current = setTimeout(() => {\r\n            setCopiedRecently(false);\r\n            setCopyError(false);\r\n        }, successCopyTimeout);\r\n    }, [successCopyTimeout, text]);\r\n\r\n    return {\r\n        copiedRecently,\r\n        copyError,\r\n        onClick,\r\n    };\r\n}\r\n\r\nexport const messages = defineMessages({\r\n    copy: {id: 'copy_text.copy', defaultMessage: 'Copy'},\r\n    copied: {id: 'copy_text.copied', defaultMessage: 'Copied'},\r\n});\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\nexport default function MailIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\r\n    const {formatMessage} = useIntl();\r\n    return (\r\n        <span {...props}>\r\n            <svg\r\n                width='24px'\r\n                height='24px'\r\n                viewBox='0 0 24 24'\r\n                role='img'\r\n                aria-label={formatMessage({id: 'generic_icons.mail', defaultMessage: 'Mail Icon'})}\r\n            >\r\n                <path d='M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4M12,11L20,6H4L12,11M4,18H20V8.37L12,13.36L4,8.37V18Z'/>\r\n            </svg>\r\n        </span>\r\n    );\r\n}\r\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport { S as Select } from '../../dist/Select-aab027f3.esm.js';\nimport { u as useAsync } from '../../dist/useAsync-c64f5536.esm.js';\nimport { u as useStateManager } from '../../dist/useStateManager-7e1e8489.esm.js';\nimport { u as useCreatable } from '../../dist/useCreatable-84008237.esm.js';\nimport '@babel/runtime/helpers/objectSpread2';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/createSuper';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport '../../dist/index-641ee5b8.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/slicedToArray';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\nimport '@floating-ui/dom';\nimport 'use-isomorphic-layout-effect';\nimport 'memoize-one';\n\nvar AsyncCreatableSelect = /*#__PURE__*/forwardRef(function (props, ref) {\n  var stateManagerProps = useAsync(props);\n  var creatableProps = useStateManager(stateManagerProps);\n  var selectProps = useCreatable(creatableProps);\n  return /*#__PURE__*/React.createElement(Select, _extends({\n    ref: ref\n  }, selectProps));\n});\nvar AsyncCreatableSelect$1 = AsyncCreatableSelect;\n\nexport { AsyncCreatableSelect$1 as default };\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport React from 'react';\r\nimport {useIntl} from 'react-intl';\r\n\r\nexport default function MailPlusIcon(props: React.HTMLAttributes<HTMLSpanElement>) {\r\n    const {formatMessage} = useIntl();\r\n    return (\r\n        <span {...props}>\r\n            <svg\r\n                width='24px'\r\n                height='24px'\r\n                viewBox='0 0 24 24'\r\n                role='img'\r\n                aria-label={formatMessage({id: 'generic_icons.add-mail', defaultMessage: 'Add Mail Icon'})}\r\n            >\r\n                <path d='M3,4C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H14V18H3V8.37L11,13.36L19,8.37V13H21V6A2,2 0 0,0 19,4H3M3,6H19L11,11L3,6M19,15V18H16V20H19V23H21V20H24V18H21V15H19Z'/>\r\n            </svg>\r\n        </span>\r\n    );\r\n}\r\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\r\n// See LICENSE.txt for license information.\r\n\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport type {RefObject} from 'react';\r\nimport type {MessageDescriptor, IntlShape} from 'react-intl';\r\nimport {FormattedMessage, defineMessages, injectIntl} from 'react-intl';\r\nimport {components} from 'react-select';\r\nimport type {FormatOptionLabelMeta, InputActionMeta, InputProps, Options, StylesConfig, SelectInstance, MultiValue, SingleValue, OptionsOrGroups, GroupBase, MultiValueRemoveProps} from 'react-select';\r\nimport AsyncCreatable from 'react-select/async-creatable';\r\n\r\nimport type {UserProfile} from '@mattermost/types/users';\r\n\r\nimport {Client4} from 'mattermost-redux/client';\r\nimport {isEmail} from 'mattermost-redux/utils/helpers';\r\nimport {isGuest} from 'mattermost-redux/utils/user_utils';\r\n\r\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\r\nimport CloseCircleSolidIcon from 'components/widgets/icons/close_circle_solid_icon';\r\nimport MailIcon from 'components/widgets/icons/mail_icon';\r\nimport MailPlusIcon from 'components/widgets/icons/mail_plus_icon';\r\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\r\nimport BotTag from 'components/widgets/tag/bot_tag';\r\nimport GuestTag from 'components/widgets/tag/guest_tag';\r\nimport Avatar from 'components/widgets/users/avatar';\r\n\r\nimport {getDisplayName, getLongDisplayNameParts, imageURLForUser} from 'utils/utils';\r\n\r\nimport './users_emails_input.scss';\r\n\r\ntype Props = {\r\n    placeholder: string;\r\n    ariaLabel: string;\r\n    usersLoader: (search: string, callback: (users: UserProfile[]) => void) => Promise<UserProfile[]> | undefined;\r\n    onUsersLoad?: (users: UserProfile[]) => void;\r\n    onBlur?: () => void;\r\n    onChange: (change: Array<UserProfile | string>) => void;\r\n    showError?: boolean;\r\n    errorMessage?: MessageDescriptor;\r\n    errorMessageValues?: Record<string, React.ReactNode>;\r\n    value: Array<UserProfile | string>;\r\n    onInputChange: (change: string) => void;\r\n    inputValue: string;\r\n    noMatchMessage?: MessageDescriptor;\r\n    validAddressMessage?: MessageDescriptor;\r\n    loadingMessage?: MessageDescriptor;\r\n    emailInvitationsEnabled: boolean;\r\n    extraErrorText?: React.ReactNode;\r\n    autoFocus?: boolean;\r\n    suppressNoOptionsMessage?: boolean;\r\n    onPaste?: (e: ClipboardEvent) => void;\r\n    intl: IntlShape;\r\n}\r\n\r\nexport type EmailInvite = {\r\n    value: string;\r\n    label: string;\r\n}\r\n\r\ntype State = {\r\n    options: UserProfile[];\r\n    prevValue: string;\r\n}\r\n\r\nconst multipleValuesDelimiter = /[\\s,;]+/;\r\n\r\nconst messages = defineMessages({\r\n    loadingDefault: {\r\n        id: 'widgets.users_emails_input.loading',\r\n        defaultMessage: 'Loading',\r\n    },\r\n    noMatchDefault: {\r\n        id: 'widgets.users_emails_input.no_user_found_matching',\r\n        defaultMessage: 'No one found matching **{text}**. Enter their email to invite them.',\r\n    },\r\n    validAddressDefault: {\r\n        id: 'widgets.users_emails_input.valid_email',\r\n        defaultMessage: 'Add **{email}**',\r\n    },\r\n});\r\n\r\nexport class UsersEmailsInput extends React.PureComponent<Props, State> {\r\n    static defaultProps = {\r\n        noMatchMessage: messages.noMatchDefault,\r\n        validAddress: messages.validAddressDefault,\r\n        loadingMessage: messages.loadingDefault,\r\n        showError: false,\r\n    };\r\n    private selectRef: RefObject<SelectInstance<UserProfile | EmailInvite, true>>;\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.selectRef = React.createRef();\r\n        this.state = {\r\n            options: [],\r\n            prevValue: this.props.inputValue,\r\n        };\r\n    }\r\n\r\n    renderUserName = (user: UserProfile) => {\r\n        const parts = getLongDisplayNameParts(user);\r\n        let fullName = null;\r\n        if (parts.fullName) {\r\n            fullName = (<span className='fullname'>{parts.fullName}</span>);\r\n        }\r\n        let nickname = null;\r\n        if (parts.nickname) {\r\n            nickname = (<span className='nickname'>{parts.nickname}</span>);\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {parts.displayName}\r\n                {fullName}\r\n                {nickname}\r\n            </>\r\n        );\r\n    };\r\n\r\n    loadingMessage = (): string => {\r\n        const text = (\r\n            <FormattedMessage\r\n                {...this.props.loadingMessage}\r\n            />\r\n        );\r\n\r\n        // faking types to satisfy the interface for the version of react-select we are on.\r\n        return (<LoadingSpinner text={text}/>) as unknown as string;\r\n    };\r\n\r\n    getOptionValue = (obj: UserProfile | EmailInvite): string => {\r\n        if (this.isUserProfile(obj)) {\r\n            return obj.id;\r\n        }\r\n        return obj.value;\r\n    };\r\n\r\n    formatOptionLabel = (user: UserProfile | EmailInvite, options: FormatOptionLabelMeta<UserProfile | EmailInvite>) => {\r\n        const profileImg = imageURLForUser((user as UserProfile).id, (user as UserProfile).last_picture_update);\r\n        let guestBadge = null;\r\n        let botBadge = null;\r\n\r\n        if ((user as UserProfile).is_bot) {\r\n            botBadge = <BotTag/>;\r\n        }\r\n\r\n        if (!isEmail((user as EmailInvite).value) && isGuest((user as UserProfile).roles)) {\r\n            guestBadge = <GuestTag/>;\r\n        }\r\n\r\n        if (options.context === 'menu') {\r\n            if ((user as EmailInvite).value && isEmail((user as EmailInvite).value)) {\r\n                return this.getCreateLabel((user as EmailInvite).value);\r\n            }\r\n            return (\r\n                <>\r\n                    <Avatar\r\n                        size='lg'\r\n                        username={(user as UserProfile).username}\r\n                        url={profileImg}\r\n                    />\r\n                    {this.renderUserName(user as UserProfile)}\r\n                    {botBadge}\r\n                    {guestBadge}\r\n                </>\r\n            );\r\n        }\r\n\r\n        if ((user as EmailInvite).value && isEmail((user as EmailInvite).value)) {\r\n            return (\r\n                <>\r\n                    <MailIcon className='mail-icon'/>\r\n                    <span>{(user as EmailInvite).value}</span>\r\n                </>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    size='sm'\r\n                    username={(user as UserProfile).username}\r\n                    url={profileImg}\r\n                />\r\n                {getDisplayName(user as UserProfile)}\r\n                {botBadge}\r\n                {guestBadge}\r\n            </>\r\n        );\r\n    };\r\n\r\n    onChange = (value: MultiValue<EmailInvite | UserProfile> | SingleValue<EmailInvite | UserProfile>) => {\r\n        if (this.props.onChange) {\r\n            if (value) {\r\n                this.props.onChange((value as Array<UserProfile | EmailInvite>).map((v) => {\r\n                    if (this.isUserProfile(v)) {\r\n                        return v;\r\n                    }\r\n                    return v.value;\r\n                }));\r\n            } else {\r\n                this.props.onChange([]);\r\n            }\r\n        }\r\n    };\r\n\r\n    getCreateLabel = (value: string) => (\r\n        <>\r\n            <MailPlusIcon className='mail-plus-icon'/>\r\n            <FormattedMarkdownMessage\r\n                key='widgets.users_emails_input.valid_email'\r\n                {...this.props.validAddressMessage}\r\n                values={{email: value}}\r\n                disableLinks={true}\r\n            />\r\n        </>\r\n    );\r\n\r\n    Input = (props: InputProps<EmailInvite | UserProfile, true>) => {\r\n        const handlePaste = (e: ClipboardEvent) => {\r\n            e.preventDefault();\r\n            const clipboardText = e.clipboardData?.getData('Text') || '';\r\n            this.appendDelimitedValues(clipboardText);\r\n\r\n            if (this.props.onPaste) {\r\n                this.props.onPaste(e);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <components.Input\r\n                {...props}\r\n\r\n                // The onPaste is not part of the InputProps type definition. It's fixed in v5 of react-select.\r\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n                // @ts-ignore - The type definition for the Input component is incorrect.\r\n                onPaste={handlePaste}\r\n            />\r\n        );\r\n    };\r\n\r\n    NoOptionsMessage = (props: Record<string, any>) => {\r\n        const inputValue = props.selectProps.inputValue;\r\n        if (!inputValue) {\r\n            return null;\r\n        }\r\n\r\n        const Msg: any = components.NoOptionsMessage;\r\n        return (\r\n            <div className='users-emails-input__option users-emails-input__option--no-matches'>\r\n                <Msg {...props}>\r\n                    <FormattedMarkdownMessage\r\n                        {...this.props.noMatchMessage}\r\n                        values={{text: inputValue}}\r\n                        disableLinks={true}\r\n                    />\r\n                </Msg>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    private renderAriaLabel = (option: UserProfile | EmailInvite): string => {\r\n        if (!option) {\r\n            return '';\r\n        }\r\n\r\n        if (this.isUserProfile(option)) {\r\n            return (option as UserProfile).username;\r\n        }\r\n\r\n        return (option as EmailInvite).value;\r\n    };\r\n\r\n    MultiValueRemove = (props: MultiValueRemoveProps<EmailInvite | UserProfile, true>) => {\r\n        const {children, innerProps} = props;\r\n\r\n        return (\r\n            <div\r\n                {...innerProps}\r\n                role='button'\r\n                tabIndex={0}\r\n                aria-label={this.props.intl.formatMessage({\r\n                    id: 'multiselect.remove',\r\n                    defaultMessage: 'Remove {label}',\r\n                }, {\r\n                    label: this.renderAriaLabel(props.data),\r\n                })}\r\n                onKeyDown={(e) => {\r\n                    if (e.key === 'Enter' || e.key === ' ') {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        innerProps.onClick?.(e as unknown as React.MouseEvent<HTMLDivElement, MouseEvent>);\r\n                    }\r\n                }}\r\n            >\r\n                {children || <CloseCircleSolidIcon/>}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    components = {\r\n        NoOptionsMessage: this.props.suppressNoOptionsMessage ? () => null : this.NoOptionsMessage,\r\n        MultiValueRemove: this.MultiValueRemove,\r\n        IndicatorsContainer: () => null,\r\n        Input: this.Input,\r\n    };\r\n\r\n    handleInputChange = async (inputValue: string, action: InputActionMeta) => {\r\n        if (action.action === 'input-blur' && action.prevInputValue !== '') {\r\n            const values = this.formatValuesForCreatable();\r\n\r\n            // Check if the input is an existing user by username or email.\r\n            const option = this.state.options.find((o) =>\r\n                action.prevInputValue === o.username || action.prevInputValue === ('@' + o.username) ||\r\n                action.prevInputValue === o.email,\r\n            );\r\n\r\n            if (option) {\r\n                this.onChange([...values, option]);\r\n                this.props.onInputChange('');\r\n                this.setState((state) => ({\r\n                    ...state,\r\n                    prevValue: action.prevInputValue,\r\n                }));\r\n                return;\r\n            }\r\n\r\n            // Check if the input is a valid new email, if the email invitations are enabled.\r\n            if (this.props.emailInvitationsEnabled && isEmail(action.prevInputValue)) {\r\n                const email = action.prevInputValue;\r\n                this.onChange([...values, {value: email, label: email}]);\r\n                this.props.onInputChange('');\r\n                this.setState((state) => ({\r\n                    ...state,\r\n                    prevValue: action.prevInputValue,\r\n                }));\r\n            }\r\n        } else if (action.action === 'input-change' && action.prevInputValue !== '' && action.prevInputValue?.[action.prevInputValue.length - 1].match(multipleValuesDelimiter)) {\r\n            const newValuesCount = await this.appendDelimitedValues(action.prevInputValue);\r\n            if (newValuesCount === 0) {\r\n                return;\r\n            }\r\n        }\r\n        if (action.action !== 'input-blur' && action.action !== 'menu-close') {\r\n            this.props.onInputChange(inputValue);\r\n            this.setState((state) => ({\r\n                ...state,\r\n                prevValue: action.prevInputValue,\r\n            }));\r\n        }\r\n    };\r\n\r\n    formatValuesForCreatable = () => {\r\n        return this.props.value.map((v) => {\r\n            if ((v as UserProfile).id) {\r\n                return v as UserProfile;\r\n            }\r\n            return {label: v, value: v} as EmailInvite;\r\n        });\r\n    };\r\n\r\n    optionsLoader = (_input: string, callback: (options: UserProfile[]) => void) => {\r\n        const customCallback = (options: UserProfile[]) => {\r\n            this.setState({options});\r\n            const accessibleProfiles = options.map((user: UserProfile) => ({...user, label: user.username}));\r\n            callback(accessibleProfiles);\r\n            if (this.props.onUsersLoad) {\r\n                this.props.onUsersLoad(options);\r\n            }\r\n        };\r\n        const result = this.props.usersLoader(this.props.inputValue, customCallback);\r\n        if (result && result.then) {\r\n            result.then(customCallback);\r\n        }\r\n    };\r\n\r\n    showAddEmail = (inputValue: string, value: Options<UserProfile | EmailInvite>, options: OptionsOrGroups<EmailInvite | UserProfile, GroupBase<EmailInvite | UserProfile>>): boolean => {\r\n        return this.props.emailInvitationsEnabled && options.length === 0 && isEmail(inputValue);\r\n    };\r\n\r\n    onFocus = () => {\r\n        this.selectRef.current?.onInputChange(this.props.inputValue, {action: 'set-value', prevInputValue: this.props.inputValue});\r\n    };\r\n\r\n    onBlur = () => {\r\n        this.selectRef.current?.onInputChange(this.props.inputValue, {action: 'input-blur', prevInputValue: this.state.prevValue});\r\n        if (this.props.onBlur) {\r\n            this.props.onBlur();\r\n        }\r\n    };\r\n\r\n    appendDelimitedValues = async (values: string): Promise<number> => {\r\n        const existingValues = this.formatValuesForCreatable();\r\n        const entries = [...new Set(values.split(multipleValuesDelimiter))];\r\n\r\n        if (entries.length === 0) {\r\n            return 0;\r\n        }\r\n\r\n        const isUniqueEmail = (values: Array<UserProfile | EmailInvite>, email: string): boolean => {\r\n            return values.findIndex((v) => (\r\n                this.isEmailInvite(v) && v.value === email) || (this.isUserProfile(v) && v.email === email),\r\n            ) === -1;\r\n        };\r\n\r\n        const handleEmail = async (email: string): Promise<UserProfile | string | null> => {\r\n            if (!isUniqueEmail(existingValues, email)) {\r\n                return null;\r\n            }\r\n            const resp = await this.searchByEmail(email);\r\n            return resp || email;\r\n        };\r\n\r\n        const isUniqueUsername = (values: Array<UserProfile | EmailInvite>, username: string): boolean => {\r\n            return values.findIndex((v) => this.isUserProfile(v) && v.username === username) === -1;\r\n        };\r\n\r\n        const handleUsername = async (username: string): Promise<UserProfile | null> => {\r\n            if (!isUniqueUsername(existingValues, username)) {\r\n                return null;\r\n            }\r\n            return this.searchByUsername(username);\r\n        };\r\n\r\n        const promises = entries.map(async (entry) => {\r\n            if (entry === '') {\r\n                return Promise.resolve(null);\r\n            }\r\n\r\n            let res;\r\n            if (this.props.emailInvitationsEnabled && isEmail(entry)) {\r\n                res = await handleEmail(entry);\r\n            } else {\r\n                res = await handleUsername(entry);\r\n            }\r\n\r\n            if (typeof res === 'string') {\r\n                return Promise.resolve({value: res, label: res});\r\n            } else if (this.isUserProfile(res as UserProfile)) {\r\n                return Promise.resolve(res);\r\n            }\r\n            return Promise.resolve(null);\r\n        });\r\n\r\n        const newValues: Array<UserProfile | EmailInvite> = [];\r\n\r\n        (await Promise.allSettled(promises)).reduce((acc, v) => {\r\n            if (v.status === 'fulfilled') {\r\n                acc.push(v.value);\r\n            }\r\n            return acc;\r\n        }, [] as Array<UserProfile | EmailInvite | null>).forEach((v) => {\r\n            if (!v) {\r\n                return;\r\n            }\r\n\r\n            if (this.isEmailInvite(v) && (!isUniqueEmail(existingValues, v.value) || !isUniqueEmail(newValues, v.value))) {\r\n                return;\r\n            }\r\n\r\n            if (this.isUserProfile(v) && (\r\n                !isUniqueUsername(existingValues, v.username) || !isUniqueEmail(existingValues, v.email) ||\r\n                !isUniqueUsername(newValues, v.username) || !isUniqueEmail(newValues, v.email)\r\n            )) {\r\n                return;\r\n            }\r\n\r\n            newValues.push(v);\r\n        });\r\n\r\n        this.onChange([...existingValues, ...newValues]);\r\n        this.props.onInputChange('');\r\n\r\n        return newValues.length;\r\n    };\r\n\r\n    isUserProfile = (obj: UserProfile | EmailInvite): obj is UserProfile => {\r\n        return (obj as UserProfile).id !== undefined;\r\n    };\r\n\r\n    isEmailInvite = (obj: UserProfile | EmailInvite): obj is EmailInvite => {\r\n        return (obj as EmailInvite).value !== undefined;\r\n    };\r\n\r\n    searchByEmail = async (value: string): Promise<UserProfile | null> => {\r\n        let data;\r\n        try {\r\n            data = await Client4.getUserByEmail(value);\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n        return data?.delete_at === 0 ? data : null;\r\n    };\r\n\r\n    searchByUsername = async (value: string): Promise<UserProfile | null> => {\r\n        let data;\r\n        try {\r\n            data = await Client4.getUserByUsername(value);\r\n        } catch (error) {\r\n            return null;\r\n        }\r\n        return data?.delete_at === 0 ? data : null;\r\n    };\r\n\r\n    render() {\r\n        const values = this.formatValuesForCreatable();\r\n\r\n        const Msg: any = components.NoOptionsMessage;\r\n\r\n        const styles = {\r\n            placeholder: (css) => ({\r\n                ...css,\r\n\r\n                pointerEvents: 'none',\r\n                userSelect: 'none',\r\n            }),\r\n            input: (css) => ({\r\n                ...css,\r\n\r\n                display: 'flex',\r\n                flex: '1 1 auto',\r\n\r\n                '> div': {\r\n                    width: '100%',\r\n                },\r\n\r\n                input: {\r\n                    width: '100% !important',\r\n                    textAlign: 'left',\r\n                },\r\n            }),\r\n        } satisfies StylesConfig<UserProfile | EmailInvite, true >;\r\n\r\n        return (\r\n            <>\r\n                <AsyncCreatable\r\n                    ref={this.selectRef}\r\n                    onChange={this.onChange}\r\n                    loadOptions={this.optionsLoader}\r\n                    isValidNewOption={this.showAddEmail}\r\n                    isMulti={true}\r\n                    isClearable={false}\r\n                    className={classNames(\r\n                        'UsersEmailsInput',\r\n                        this.props.showError ? 'error' : '',\r\n                        {empty: this.props.inputValue === ''},\r\n                        {'no-selections': values.length === 0},\r\n                    )}\r\n                    classNamePrefix='users-emails-input'\r\n                    placeholder={this.props.placeholder}\r\n                    components={this.components}\r\n                    getOptionValue={this.getOptionValue}\r\n                    formatOptionLabel={this.formatOptionLabel}\r\n                    defaultOptions={false}\r\n                    defaultMenuIsOpen={false}\r\n                    openMenuOnClick={false}\r\n                    loadingMessage={this.loadingMessage}\r\n                    onInputChange={this.handleInputChange}\r\n                    inputValue={this.props.inputValue}\r\n                    openMenuOnFocus={true}\r\n                    onFocus={() => this.onFocus}\r\n                    onBlur={() => this.onBlur}\r\n                    tabSelectsValue={true}\r\n                    value={values}\r\n                    aria-label={this.props.ariaLabel}\r\n                    autoFocus={this.props.autoFocus}\r\n                    styles={styles}\r\n                />\r\n                {this.props.showError && (\r\n                    <div className='InputErrorBox'>\r\n                        <Msg>\r\n                            <FormattedMarkdownMessage\r\n                                {...this.props.errorMessage}\r\n                                values={this.props.errorMessageValues}\r\n                                disableLinks={true}\r\n                            />\r\n                        </Msg>\r\n                        {this.props.extraErrorText || null}\r\n                    </div>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default injectIntl(UsersEmailsInput);\r\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://tc39.es/ecma262/#sec-promise.allsettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call(promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (error) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: error };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.promise.all-settled.js');\n"],"names":["_excluded","compareOption","option","arguments","length","undefined","accessors","candidate","String","toLowerCase","optionValue","getOptionValue","optionLabel","getOptionLabel","builtins","formatCreateLabel","inputValue","concat","isValidNewOption","selectValue","selectOptions","some","getNewOptionData","label","value","__isNew__","useCreatable","_ref","_ref$allowCreateWhile","allowCreateWhileLoading","_ref$createOptionPosi","createOptionPosition","_ref$formatCreateLabe","_ref$isValidNewOption","_ref$getNewOptionData","onCreateOption","_ref$options","options","propsOptions","propsOnChange","onChange","restSelectProps","_restSelectProps$getO","getOptionValue$1","g","_restSelectProps$getO2","getOptionLabel$1","isLoading","isMulti","name","newOption","useMemo","useCallback","newValue","actionMeta","action","valueArray","Array","isArray","newOptionData","newActionMeta","DEFAULT_COPY_TIMEOUT","useCopyText","text","successCopyTimeout","successCopyTimeoutReceived","copiedRecently","setCopiedRecently","useState","copyError","setCopyError","timerRef","useRef","onClick","current","clearTimeout","clipboard","navigator","writeText","then","catch","textField","document","createElement","innerText","style","position","opacity","body","appendChild","select","success","execCommand","err","remove","setTimeout","messages","defineMessages","copy","id","defaultMessage","copied","MailIcon","props","formatMessage","useIntl","React","width","height","viewBox","role","d","AsyncCreatableSelect$1","forwardRef","ref","stateManagerProps","u","creatableProps","selectProps","S","MailPlusIcon","multipleValuesDelimiter","loadingDefault","noMatchDefault","validAddressDefault","UsersEmailsInput","constructor","super","_defineProperty","user","parts","getLongDisplayNameParts","fullName","className","nickname","displayName","FormattedMessage","this","loadingMessage","LoadingSpinner","obj","isUserProfile","profileImg","imageURLForUser","last_picture_update","guestBadge","botBadge","is_bot","BotTag","isEmail","isGuest","roles","GuestTag","context","getCreateLabel","Avatar","size","username","url","renderUserName","getDisplayName","map","v","FormattedMarkdownMessage","Object","assign","key","validAddressMessage","values","email","disableLinks","components","Input","onPaste","e","_e$clipboardData","preventDefault","clipboardText","clipboardData","getData","appendDelimitedValues","Msg","NoOptionsMessage","noMatchMessage","children","innerProps","tabIndex","intl","renderAriaLabel","data","onKeyDown","_innerProps$onClick","stopPropagation","call","CloseCircleSolidIcon","suppressNoOptionsMessage","MultiValueRemove","IndicatorsContainer","async","_action$prevInputValu","prevInputValue","formatValuesForCreatable","state","find","o","onInputChange","setState","_objectSpread","prevValue","emailInvitationsEnabled","match","_input","callback","customCallback","accessibleProfiles","onUsersLoad","result","usersLoader","_this$selectRef$curre","selectRef","_this$selectRef$curre2","onBlur","existingValues","entries","Set","split","isUniqueEmail","findIndex","isEmailInvite","handleEmail","searchByEmail","isUniqueUsername","handleUsername","searchByUsername","promises","entry","Promise","resolve","res","newValues","allSettled","reduce","acc","status","push","forEach","_data","Client4","getUserByEmail","error","delete_at","_data2","getUserByUsername","render","styles","placeholder","css","pointerEvents","userSelect","input","display","flex","textAlign","AsyncCreatable","loadOptions","optionsLoader","showAddEmail","isClearable","classNames","showError","empty","classNamePrefix","formatOptionLabel","defaultOptions","defaultMenuIsOpen","openMenuOnClick","handleInputChange","openMenuOnFocus","onFocus","tabSelectsValue","ariaLabel","autoFocus","errorMessage","errorMessageValues","extraErrorText","validAddress","injectIntl","$","aCallable","newPromiseCapabilityModule","perform","iterate","target","stat","iterable","C","capability","f","reject","promiseResolve","counter","remaining","promise","index","alreadyCalled","reason"],"sourceRoot":""}